---
title: Rate Limits
description: Prevent and handle rate limiting when checking multiple links from the same domain.
---

import { Code } from "@astrojs/starlight/components";
export const fileName = "lychee.toml";
export const fileLang = "toml";

Rate limiting occurs when checking many links from a single website. Servers return `429 Too Many Requests` status codes, causing lychee to report broken links.

## Reduce Concurrent Requests

Limit concurrent requests to give servers time between checks:

```bash
lychee --max-concurrency 10 .
```

Lower values reduce rate limiting risk but slow down execution. Experiment to find the right balance.

Default is 128 concurrent requests.

## Disable Retries

When lychee hits a `429` error, it retries with exponential backoff. With many concurrent requests, this can worsen rate limiting ([thundering herd problem](https://en.wikipedia.org/wiki/Thundering_herd_problem)).

Disable retries:

```bash
lychee --max-retries 0 .
```

## Accept 429 Status Code

As a last resort, accept `429` as valid to prevent rate limit errors from being reported:

```bash
lychee --accept 200,429 .
```

Or in configuration:

<Code code={`accept = [200, 429]`} lang={fileLang} title={fileName} />

## GitHub Rate Limiting

GitHub has aggressive rate limiting. Without authentication, you're limited to **60 requests per hour**.

Error message:

```bash
GitHub token not specified. To check GitHub links reliably, use `--github-token`
flag / `GITHUB_TOKEN` env var.
```

### Using a GitHub Token

With a token, the rate limit increases to **1,000 requests per hour per repository** (15,000 for enterprise accounts).

Set via environment variable:

```bash
export GITHUB_TOKEN=your_token_here
lychee .
```

Or use the flag:

```bash
lychee --github-token your_token_here .
```

Or in configuration:

```toml title="lychee.toml"
github_token = "your_token_here"
```

Generate a token in your [GitHub account settings](https://github.com/settings/tokens). A personal token with no extra permissions is sufficient for checking public repository links.

:::tip
See the [example config](https://github.com/lycheeverse/lychee/blob/master/lychee.example.toml) for more configuration options.
:::

## Cache Results

Caching reduces repeated requests to the same URLs:

```bash
lychee --cache --max-cache-age 12h .
```

Only links exceeding the cache age are checked again.

For GitHub Actions, see the [GitHub Actions guide](/guides/github-actions#caching).

## Exclude Domains

If a website has strict rate limiting that can't be resolved, exclude it entirely:

```bash
lychee --exclude example.com .
```

Multiple exclusions:

```bash
lychee --exclude example.com --exclude another.com .
```

## Configuration File

```toml title="lychee.toml"
max_concurrency = 10
max_retries = 0
accept = [200, 429]
github_token = "env:GITHUB_TOKEN"
cache = true
max_cache_age = "12h"
exclude = ['example.com']
```

:::note
Use `env:GITHUB_TOKEN` to read the token from an environment variable instead of hardcoding it.
:::
