---
title: Network Errors
description: Diagnose and resolve certificate errors and network-related failures when checking links.
---

import { Aside } from "@astrojs/starlight/components";

Network errors typically indicate certificate validation issues, bot detection, or connection problems.

Common error messages:

```bash
Failed: Network error: error sending request for url
```

```bash
Network error: Forbidden
```

## Verify with curl

Test if the issue is specific to lychee:

```bash
curl https://example.com
```

If curl succeeds but lychee fails, open an issue on GitHub. If curl also fails, the problem is with the website or your system.

## Certificate Issues

### Ignore Certificate Errors

Use `--insecure` to bypass certificate validation:

```bash
lychee --insecure https://example.com
```

If this resolves the issue, the website has certificate problems (expired, invalid, or from an unknown authority).

### Update CA Certificates

<Aside>
  CA (Certificate Authority) certificates verify website identities. Outdated certificates cause validation failures.
</Aside>

**Debian/Ubuntu:**

```bash
sudo apt-get install ca-certificates
```

**macOS:** [Apple Support Guide](https://support.apple.com/en-us/103272)

**Windows:** [Microsoft Documentation](https://learn.microsoft.com/en-us/skype-sdk/sdn/articles/installing-the-trusted-root-certificate)

**Arch Linux:** [TLS Wiki](https://wiki.archlinux.org/title/Transport_Layer_Security)

See this [Stack Overflow discussion](https://stackoverflow.com/a/24618403/270334) for additional guidance.

## User Agent Issues

Some sites block unrecognized user agents. Try a common one:

```bash
lychee --user-agent "curl/8.4.0" https://example.com
```

Check your system's curl user agent:

```bash
curl -s https://httpbin.org/user-agent
```

If changing the user agent works, the site is blocking lychee's default agent. Keep using curl's user agent or contact the site administrator.

## Bot Detection

Services like Cloudflare Bot Management block automated tools, including lychee.

### Check for Bot Detection

Use [BuiltWith](https://builtwith.com/) to identify bot protection services:
- Enter the website URL
- Look for Cloudflare Bot Management, Cloudflare Challenge, or similar services

### Solutions

- Contact the site administrator to whitelist lychee
- Use `--user-agent` with a browser user agent
- Exclude the domain with `--exclude`

## Configuration File

```toml title="lychee.toml"
insecure = true
user_agent = "curl/8.4.0"
```

:::caution
Using `--insecure` disables certificate validation and should only be used for testing. It compromises security.
:::
