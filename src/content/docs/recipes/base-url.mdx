---
title: Testing Sites Not Served from Root with --base-url
description: Use --base-url to check links for sites deployed to subdirectories instead of root domains.
---

The `--base-url` parameter lets you check links for sites that aren't served from the root domain. This is useful when your site lives in a subdirectory, like `example.com/docs/`.

## When to Use

You need `--base-url` when your site is deployed to a subdirectory:

```html title="docs/guide.html"
<a href="./getting-started.html">Get Started</a>
<a href="../about.html">About Us</a>
```

If this page deploys to `example.com/docs/guide.html`, those links should resolve to:
- `example.com/docs/getting-started.html`
- `example.com/about.html`

Tell lychee where the site will be hosted:

```bash
lychee --base-url https://example.com/docs/ "**/*.html"
```

## How It Works

lychee converts relative links to full URLs using the base URL:

```html
<!-- Original -->
<a href="./guide.html">Guide</a>

<!-- After --base-url https://example.com/docs/ -->
<a href="https://example.com/docs/guide.html">Guide</a>
```

## Examples

### Documentation Sites

```bash
# Check against dev server
lychee --base-url http://localhost:3000/docs/ "docs/**/*.html"

# Check before deploying
lychee --base-url https://example.com/docs/ "docs/**/*.html"
```

### GitHub Pages

```bash
# Project site
lychee --base-url https://username.github.io/project/ "**/*.html"

# Local development
lychee --base-url http://localhost:4000/project/ "**/*.html"
```

### Blog Subdirectories

```bash
lychee --base-url https://example.com/blog/ "content/**/*.html"
```

## Trailing Slash

Always include a trailing slash for directories:

```bash
# ✅ Correct
lychee --base-url https://example.com/docs/

# ❌ Incorrect
lychee --base-url https://example.com/docs
```

The trailing slash tells lychee that `/docs` is a directory, not a file. This affects how relative paths are resolved.

## `--base-url` vs `--root-dir`

- `--base-url` - For URLs (like `https://example.com/docs/`)
- `--root-dir` - For file paths (like `./public/`)

You can use both together:

```bash
lychee --base-url https://example.com/docs/ --root-dir $(pwd)/public/ "public/**/*.html"
```

## Configuration File

```toml title="lychee.toml"
base_url = "https://example.com/docs/"
```
